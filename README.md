# Router-IPchecker

Предыстория
-----------
Мой интернет провайдер выдает IP адреса из пула публичных и приватных случайным образом. 
Т.е. один раз подключившись, IP может быть публичным, а в следующий раз приватным.
Это сводит на нет радость от использования DDNS для подключения к локальной сети извне.

Решение
-------
Был написан скрипт, который, запускаясь через планировщик, подключается к роутеру по Telnet (в моем случае роутер Zyxel, для других производителей могут отличатся команды) и проверяет IP.
Если IP приватный, то выполняется смена приоритета интернет подключения, что приводит к переподключению и получению нового IP от провайдера.
Процедура повторяется до получения публичного IP.

Может контролировать несколько подключений - задается через переменную %interfaces.
Результаты работы логируются.

Использование
-------------
$ perl router_ip.pl

Зависимости
-----------
- Modern::Perl
- File::Basename
- Net::Telnet
- Socket
